<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/Blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/Blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/Blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/Blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/Blog/css/main.css">


<link rel="stylesheet" href="/Blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"github.com","root":"/Blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Your dreams don&#39;t work unless you do.">
<meta property="og:type" content="website">
<meta property="og:title" content="Stay hungry, Stay foolish.">
<meta property="og:url" content="https://github.com/DavidWanderer/Blog/index.html">
<meta property="og:site_name" content="Stay hungry, Stay foolish.">
<meta property="og:description" content="Your dreams don&#39;t work unless you do.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="David的博客">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://github.com/DavidWanderer/Blog/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Stay hungry, Stay foolish.</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/Blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Stay hungry, Stay foolish.</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/Blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/Blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/Blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/Blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2022/03/27/ERROR-ITMS-90296%E9%97%AE%E9%A2%98%E4%BF%AE%E5%A4%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2022/03/27/ERROR-ITMS-90296%E9%97%AE%E9%A2%98%E4%BF%AE%E5%A4%8D/" class="post-title-link" itemprop="url">ERROR ITMS-90296问题修复</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-27 12:11:32" itemprop="dateCreated datePublished" datetime="2022-03-27T12:11:32+08:00">2022-03-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="/Blog/2022/03/27/ERROR-ITMS-90296%E9%97%AE%E9%A2%98%E4%BF%AE%E5%A4%8D/theme.jpg" class="">

<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>上传pkg文件到App Store，出现错误提示<code>The following executables must include the &quot;com.apple.security.app-sandbox&quot; entitlement with a Boolean value of true in the entitlements property list</code>.</p>
<img src="/Blog/2022/03/27/ERROR-ITMS-90296%E9%97%AE%E9%A2%98%E4%BF%AE%E5%A4%8D/error.jpg" class="" title="错误截图">

<h2 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h2><p>pkg文件中包含一个未签名的可执行文件，导致上传App Store时报错。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>假设你的可执行文件是”myexe”<br>1.创建<code>myexe.entitlements</code>文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE plist PUBLIC <span class="string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span> <span class="string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span>&gt;</span><br><span class="line">&lt;plist version=<span class="string">&quot;1.0&quot;</span>&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">        &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;</span><br><span class="line">        &lt;<span class="literal">true</span>/&gt;</span><br><span class="line">        &lt;key&gt;com.apple.security.inherit&lt;/key&gt;</span><br><span class="line">        &lt;<span class="literal">true</span>/&gt;</span><br><span class="line">        &lt;key&gt;com.apple.security.files.user-selected.read-write&lt;/key&gt;</span><br><span class="line">        &lt;<span class="literal">true</span>/&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;/plist&gt;</span><br></pre></td></tr></table></figure>
<p>2.执行命令行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codesign -f -s <span class="string">&quot;<span class="variable">$YOUR_CERTIFICATE_HERE</span>&quot;</span> --entitlements <span class="string">&quot;<span class="variable">$THE_ENTITLEMENTS_PLIST</span>&quot;</span> <span class="string">&quot;<span class="variable">$THE_EXECUTABLE</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>$YOUR_CERTIFICATE_HERE</code> 使用你电脑上的 3rd Party Mac Developer Application certificate<br><code>$THE_ENTITLEMENTS_PLIST</code> 是<code>myexe.entitlements</code>文件绝对路径<br><code>$THE_EXECUTABLE</code> 是工程中可执行文件的绝对路径<br>以下列一个自己执行的命令行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codesign -f -s <span class="string">&quot;3rd Party Mac Developer Application: xxxx (xxx)&quot;</span> --entitlements <span class="string">&quot;/Users/xxx/Documents/xxx/myexe.entitlements&quot;</span> <span class="string">&quot;/Users/xxx/Documents/xxx/myexe&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/20856864/how-can-i-code-sign-a-bundled-executable-file-in-a-mac-app-using-xcode5">How can I code sign a bundled executable file in a mac app using xcode5</a><br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/15231592/error-when-trying-to-sandbox-with-codesign-command">Error when trying to Sandbox with codesign command</a><br><a target="_blank" rel="noopener" href="https://developer.apple.com/forums/thread/99105">对于 Mac 应用程序在使用 3rd 方应用程序开发人员证书进行签名时验证应用程序时出错：未启用应用程序沙箱。以下可执行文件必须包含布尔值为 t 的“com.apple.security.app-sandbox”权利</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/" class="post-title-link" itemprop="url">MAC搭建GLFW3和GLEW、GLAD的OpenGL环境</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-19 21:55:15" itemprop="dateCreated datePublished" datetime="2022-03-19T21:55:15+08:00">2022-03-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/OpenGL/" itemprop="url" rel="index"><span itemprop="name">OpenGL</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/theme.jpg" class="">

<h2 id="GLFW是什么？"><a href="#GLFW是什么？" class="headerlink" title="GLFW是什么？"></a>GLFW是什么？</h2><p>GLFW是一个开源的多平台库，用于桌面上的OpenGL、OpenGL ES和Vulkan开发。它提供了一个简单的API，用于创建窗口、上下文和表面，接收输入和事件。<br>和GLFW类似功能的几个库是GLUT、SDL、SFML和GLFW。我使用的是GLFW，大多数库的配置方法和GLFW差不多。</p>
<h2 id="GLEW是什么？"><a href="#GLEW是什么？" class="headerlink" title="GLEW是什么？"></a>GLEW是什么？</h2><p>GLEW是一个跨平台C++扩展库，基于OpenGL图形接口。GLEW能自动识别你的平台上所支持的全部OpenGL高级扩展函数。只要包含一个glew.h头文件，你就能使用gl、glu、wgl、glx的全部函数。GLEW支持目前流行的各种操作系统（包括Windows、Linux、Mac OSX、FreeBSD、Irix 和 Solaris）。</p>
<h2 id="安装GLFW-和-GLEW"><a href="#安装GLFW-和-GLEW" class="headerlink" title="安装GLFW 和 GLEW"></a>安装GLFW 和 GLEW</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install glfw3</span><br><span class="line">brew install glew</span><br></pre></td></tr></table></figure>
<p>安装完成之后，在<code>/opt/homebrew/Cellar</code>路径下可以看见glew和glfw。</p>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/1.png" class="" title="GLFW和GLEW安装完成截图">

<h2 id="GLAD是什么？"><a href="#GLAD是什么？" class="headerlink" title="GLAD是什么？"></a>GLAD是什么？</h2><p>GLAD是一个开源库，帮助开发者确定函数位置。</p>
<h2 id="安装GLAD"><a href="#安装GLAD" class="headerlink" title="安装GLAD"></a>安装GLAD</h2><p>打开GLAD网站<a target="_blank" rel="noopener" href="https://glad.dav1d.de/%EF%BC%8C%E9%80%89%E6%8B%A93.3%E4%BB%A5%E4%B8%8ACore%E9%85%8D%E7%BD%AE%EF%BC%8C%E7%9B%B4%E6%8E%A5Generate%E4%B8%8B%E8%BD%BD%E5%8D%B3%E5%8F%AF%E3%80%82">https://glad.dav1d.de/，选择3.3以上Core配置，直接Generate下载即可。</a></p>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/2.png" class="" title="GLAD下载截图">

<p>下载完成后解压会得到include和src文件夹，include文件夹中有glad和KRH两个文件夹，src中只有一个glad.c文件。</p>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/3.png" class="" title="GLAD解压截图">

<p>将include下的文件夹，包括glad和KRH都拷贝到/usr/local/include路径下，方便后期配置。</p>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/4.png" class="" title="GLAD配置截图">

<h2 id="在Xcode配置glew、glfw和glad的路径"><a href="#在Xcode配置glew、glfw和glad的路径" class="headerlink" title="在Xcode配置glew、glfw和glad的路径"></a>在Xcode配置glew、glfw和glad的路径</h2><p>在Xcode中配置好glew和glfw、glad的路径</p>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/5.png" class="" title="Xcode路径配置截图">

<h2 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h2><p>新建MAC命令行项目，然后到 build Setting -&gt; Header Search Path 和 Library Search Path 添加相应的配置。<br/><br><b>配置Header Search Path：</b><br/><br><code>$(glew_header) 、$(glfw_header)、$(glad_header) </code></p>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/6.png" class="" title="配置头文件路径">

<br/>
<b>配置Library Search Path：</b><br/>
`$(inherited) $(glew_lib) $(glfw_lib)`
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/7.png" class="" title="配置库文件路径">

<br/>
<b>增加Build Phases配置：</b><br/>
添加glfw和glew的库的时候需要对应的路径
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/opt/homebrew/Cellar/glew/2.2.0_1/lib</span><br><span class="line">/opt/homebrew/Cellar/glfw/3.3.6/lib</span><br></pre></td></tr></table></figure>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/8.png" class="" title="添加库文件">

<br/>
删除原来的main文件，新建C++的main文件，并创建相应的header文件。<span style="color:red">如果使用到了GLAD，还需要将glad.c源文件拖到项目中。</span>
测试代码：
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">// GLEW</span><br><span class="line"><span class="comment">#define GLEW_STATIC</span></span><br><span class="line"><span class="comment">#include &lt;GL/glew.h&gt;</span></span><br><span class="line"></span><br><span class="line">// GLFW</span><br><span class="line"><span class="comment">#include &lt;GLFW/glfw3.h&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// Function prototypes</span><br><span class="line">void key_callback(GLFWwindow* window, int key, int scancode, int action, int mode);</span><br><span class="line"></span><br><span class="line">// Window dimensions</span><br><span class="line">const GLuint WIDTH = 800, HEIGHT = 600;</span><br><span class="line"></span><br><span class="line">// Shaders</span><br><span class="line">const GLchar* vertexShaderSource = <span class="string">&quot;#version 330 core\n&quot;</span></span><br><span class="line"><span class="string">&quot;layout (location = 0) in vec3 position;\n&quot;</span></span><br><span class="line"><span class="string">&quot;void main()\n&quot;</span></span><br><span class="line"><span class="string">&quot;&#123;\n&quot;</span></span><br><span class="line"><span class="string">&quot;gl_Position = vec4(position.x, position.y, position.z, 1.0);\n&quot;</span></span><br><span class="line"><span class="string">&quot;&#125;\0&quot;</span>;</span><br><span class="line">const GLchar* fragmentShaderSource = <span class="string">&quot;#version 330 core\n&quot;</span></span><br><span class="line"><span class="string">&quot;out vec4 color;\n&quot;</span></span><br><span class="line"><span class="string">&quot;void main()\n&quot;</span></span><br><span class="line"><span class="string">&quot;&#123;\n&quot;</span></span><br><span class="line"><span class="string">&quot;color = vec4(1.0f, 0.5f, 0.2f, 1.0f);\n&quot;</span></span><br><span class="line"><span class="string">&quot;&#125;\n\0&quot;</span>;</span><br><span class="line"></span><br><span class="line">// The MAIN <span class="keyword">function</span>, from here we start the application and run the game loop</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Starting GLFW context, OpenGL 3.3&quot;</span> &lt;&lt; <span class="string">std::endl;</span></span><br><span class="line"><span class="string">    // Init GLFW</span></span><br><span class="line"><span class="string">    glfwInit();</span></span><br><span class="line"><span class="string">    // Set all the required options for GLFW</span></span><br><span class="line"><span class="string">    glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 4);</span></span><br><span class="line"><span class="string">    glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 1);</span></span><br><span class="line"><span class="string">    glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);</span></span><br><span class="line"><span class="string">    glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);</span></span><br><span class="line"><span class="string">    glfwWindowHint(GLFW_RESIZABLE, GL_FALSE);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // Create a GLFWwindow object that we can use for GLFW&#x27;s functions</span></span><br><span class="line"><span class="string">    GLFWwindow* window = glfwCreateWindow(WIDTH, HEIGHT, &quot;LearnOpenGL&quot;, nullptr, nullptr);</span></span><br><span class="line"><span class="string">    glfwMakeContextCurrent(window);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // Set the required callback functions</span></span><br><span class="line"><span class="string">    glfwSetKeyCallback(window, key_callback);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // Set this to true so GLEW knows to use a modern approach to retrieving function pointers and extensions</span></span><br><span class="line"><span class="string">    glewExperimental = GL_TRUE;</span></span><br><span class="line"><span class="string">    // Initialize GLEW to setup the OpenGL Function pointers</span></span><br><span class="line"><span class="string">    glewInit();</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // Define the viewport dimensions</span></span><br><span class="line"><span class="string">    int width, height;</span></span><br><span class="line"><span class="string">    glfwGetFramebufferSize(window, &amp;width, &amp;height);</span></span><br><span class="line"><span class="string">    glViewport(0, 0, width, height);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // Build and compile our shader program</span></span><br><span class="line"><span class="string">    // Vertex shader</span></span><br><span class="line"><span class="string">    GLint vertexShader = glCreateShader(GL_VERTEX_SHADER);</span></span><br><span class="line"><span class="string">    glShaderSource(vertexShader, 1, &amp;vertexShaderSource, NULL);</span></span><br><span class="line"><span class="string">    glCompileShader(vertexShader);</span></span><br><span class="line"><span class="string">    // Check for compile time errors</span></span><br><span class="line"><span class="string">    GLint success;</span></span><br><span class="line"><span class="string">    GLchar infoLog[512];</span></span><br><span class="line"><span class="string">    glGetShaderiv(vertexShader, GL_COMPILE_STATUS, &amp;success);</span></span><br><span class="line"><span class="string">    if (!success)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        glGetShaderInfoLog(vertexShader, 512, NULL, infoLog);</span></span><br><span class="line"><span class="string">        std</span>::cout &lt;&lt; <span class="string">&quot;ERROR::SHADER::VERTEX::COMPILATION_FAILED\n&quot;</span> &lt;&lt; <span class="string">infoLog &lt;&lt; std::endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    // Fragment shader</span></span><br><span class="line"><span class="string">    GLint fragmentShader = glCreateShader(GL_FRAGMENT_SHADER);</span></span><br><span class="line"><span class="string">    glShaderSource(fragmentShader, 1, &amp;fragmentShaderSource, NULL);</span></span><br><span class="line"><span class="string">    glCompileShader(fragmentShader);</span></span><br><span class="line"><span class="string">    // Check for compile time errors</span></span><br><span class="line"><span class="string">    glGetShaderiv(fragmentShader, GL_COMPILE_STATUS, &amp;success);</span></span><br><span class="line"><span class="string">    if (!success)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        glGetShaderInfoLog(fragmentShader, 512, NULL, infoLog</span>);</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;ERROR::SHADER::FRAGMENT::COMPILATION_FAILED\n&quot;</span> &lt;&lt; <span class="string">infoLog &lt;&lt; std::endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    // Link shaders</span></span><br><span class="line"><span class="string">    GLint shaderProgram = glCreateProgram();</span></span><br><span class="line"><span class="string">    glAttachShader(shaderProgram, vertexShader);</span></span><br><span class="line"><span class="string">    glAttachShader(shaderProgram, fragmentShader);</span></span><br><span class="line"><span class="string">    glLinkProgram(shaderProgram);</span></span><br><span class="line"><span class="string">    // Check for linking errors</span></span><br><span class="line"><span class="string">    glGetProgramiv(shaderProgram, GL_LINK_STATUS, &amp;success);</span></span><br><span class="line"><span class="string">    if (!success) &#123;</span></span><br><span class="line"><span class="string">        glGetProgramInfoLog(shaderProgram, 512, NULL, infoLog</span>);</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;ERROR::SHADER::PROGRAM::LINKING_FAILED\n&quot;</span> &lt;&lt; <span class="string">infoLog &lt;&lt; std::endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    glDeleteShader(vertexShader);</span></span><br><span class="line"><span class="string">    glDeleteShader(fragmentShader);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // Set up vertex data (and buffer(s)) and attribute pointers</span></span><br><span class="line"><span class="string">    //GLfloat vertices[] = &#123;</span></span><br><span class="line"><span class="string">    //  // First triangle</span></span><br><span class="line"><span class="string">    //   0.5f,  0.5f,  // Top Right</span></span><br><span class="line"><span class="string">    //   0.5f, -0.5f,  // Bottom Right</span></span><br><span class="line"><span class="string">    //  -0.5f,  0.5f,  // Top Left</span></span><br><span class="line"><span class="string">    //  // Second triangle</span></span><br><span class="line"><span class="string">    //   0.5f, -0.5f,  // Bottom Right</span></span><br><span class="line"><span class="string">    //  -0.5f, -0.5f,  // Bottom Left</span></span><br><span class="line"><span class="string">    //  -0.5f,  0.5f   // Top Left</span></span><br><span class="line"><span class="string">    //&#125;;</span></span><br><span class="line"><span class="string">    GLfloat vertices[] = &#123;</span></span><br><span class="line"><span class="string">        0.5f,  0.5f, 0.0f,  // Top Right</span></span><br><span class="line"><span class="string">        0.5f, -0.5f, 0.0f,  // Bottom Right</span></span><br><span class="line"><span class="string">        -0.5f, -0.5f, 0.0f,  // Bottom Left</span></span><br><span class="line"><span class="string">        -0.5f,  0.5f, 0.0f   // Top Left</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">    GLuint indices[] = &#123;  // Note that we start from 0!</span></span><br><span class="line"><span class="string">        0, 1, 3,  // First Triangle</span></span><br><span class="line"><span class="string">        1, 2, 3   // Second Triangle</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">    GLuint VBO, VAO, EBO;</span></span><br><span class="line"><span class="string">    glGenVertexArrays(1, &amp;VAO);</span></span><br><span class="line"><span class="string">    glGenBuffers(1, &amp;VBO);</span></span><br><span class="line"><span class="string">    glGenBuffers(1, &amp;EBO);</span></span><br><span class="line"><span class="string">    // Bind the Vertex Array Object first, then bind and set vertex buffer(s) and attribute pointer(s).</span></span><br><span class="line"><span class="string">    glBindVertexArray(VAO);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    glBindBuffer(GL_ARRAY_BUFFER, VBO);</span></span><br><span class="line"><span class="string">    glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);</span></span><br><span class="line"><span class="string">    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(GLfloat), (GLvoid*)0);</span></span><br><span class="line"><span class="string">    glEnableVertexAttribArray(0);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    glBindBuffer(GL_ARRAY_BUFFER, 0); // Note that this is allowed, the call to glVertexAttribPointer registered VBO as the currently bound vertex buffer object so afterwards we can safely unbind</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    glBindVertexArray(0); // Unbind VAO (it&#x27;s always a good thing to unbind any buffer/array to prevent strange bugs), remember: do NOT unbind the EBO, keep it bound to this VAO</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // Uncommenting this call will result in wireframe polygons.</span></span><br><span class="line"><span class="string">    //glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // Game loop</span></span><br><span class="line"><span class="string">    while (!glfwWindowShouldClose(window))</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        // Check if any events have been activiated (key pressed, mouse moved etc.) and call corresponding response functions</span></span><br><span class="line"><span class="string">        glfwPollEvents();</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        // Render</span></span><br><span class="line"><span class="string">        // Clear the colorbuffer</span></span><br><span class="line"><span class="string">        glClearColor(0.2f, 0.3f, 0.3f, 1.0f);</span></span><br><span class="line"><span class="string">        glClear(GL_COLOR_BUFFER_BIT);</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        // Draw our first triangle</span></span><br><span class="line"><span class="string">        glUseProgram(shaderProgram);</span></span><br><span class="line"><span class="string">        glBindVertexArray(VAO);</span></span><br><span class="line"><span class="string">        //glDrawArrays(GL_TRIANGLES, 0, 6);</span></span><br><span class="line"><span class="string">        glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);</span></span><br><span class="line"><span class="string">        glBindVertexArray(0);</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        // Swap the screen buffers</span></span><br><span class="line"><span class="string">        glfwSwapBuffers(window);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    // Properly de-allocate all resources once they&#x27;ve outlived their purpose</span></span><br><span class="line"><span class="string">    glDeleteVertexArrays(1, &amp;VAO);</span></span><br><span class="line"><span class="string">    glDeleteBuffers(1, &amp;VBO);</span></span><br><span class="line"><span class="string">    glDeleteBuffers(1, &amp;EBO);</span></span><br><span class="line"><span class="string">    // Terminate GLFW, clearing any resources allocated by GLFW.</span></span><br><span class="line"><span class="string">    glfwTerminate();</span></span><br><span class="line"><span class="string">    return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// Is called whenever a key is pressed/released via GLFW</span></span><br><span class="line"><span class="string">void key_callback(GLFWwindow* window, int key, int scancode, int action, int mode)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    if (key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS)</span></span><br><span class="line"><span class="string">        glfwSetWindowShouldClose(window, GL_TRUE);</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>如果出现下图所示的效果，则环境配置成功</p>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/success.png" class="" title="环境配置成功截图">



<h2 id="遇到的错误"><a href="#遇到的错误" class="headerlink" title="遇到的错误"></a>遇到的错误</h2><p>提示dyld: Library not loaded: /opt/homebrew/opt/glfw/lib/libglfw.3.dylib，详细错误信息如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dyld: Library not loaded: /opt/homebrew/opt/glfw/lib/libglfw.3.dylib</span><br><span class="line">  Referenced from: /Users/tingyue/Library/Developer/Xcode/DerivedData/测试opengl-cveeuitmqxwjawbhmdcvrxupnsvp/Build/Products/Debug/测试opengl</span><br><span class="line">  Reason: no suitable image found.  Did find:</span><br><span class="line">	/opt/homebrew/opt/glfw/lib/libglfw.3.dylib: code signature <span class="keyword">in</span> (/opt/homebrew/opt/glfw/lib/libglfw.3.dylib) not valid <span class="keyword">for</span> use <span class="keyword">in</span> process using Library Validation: mapped file has no Team ID and is not a platform binary (signed with custom identity or adhoc?)</span><br><span class="line">	/opt/homebrew/Cellar/glfw/3.3.6/lib/libglfw.3.3.dylib: code signature <span class="keyword">in</span> (/opt/homebrew/Cellar/glfw/3.3.6/lib/libglfw.3.3.dylib) not valid <span class="keyword">for</span> use <span class="keyword">in</span> process using Library Validation: mapped file has no Team ID and is not a platform binary (signed with custom identity or adhoc?)</span><br></pre></td></tr></table></figure>
<p>解决办法：<br>找到项目的Signing&amp;Capabilities选项，然后勾选Disable Library Validation选项，重新运行起来就可以了。</p>
<img src="/Blog/2022/03/19/MAC%E6%90%AD%E5%BB%BAGLFW3%E5%92%8CGLEW%E3%80%81GLAD%E7%9A%84OpenGL%E7%8E%AF%E5%A2%83/error1.png" class="" title="解决项目报错截图">

<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p> <a href="https://github.com/xcysuccess/LearnOpenGLNote/blob/master/Note/1%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Mac%2BOpenGL%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.md">Mac下Xcode+OpenGL环境搭建</a><br> <a target="_blank" rel="noopener" href="https://learnopengl-cn.github.io/01%20Getting%20started/02%20Creating%20a%20window/">创建窗口</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2022/03/18/OpenGL%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2022/03/18/OpenGL%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/" class="post-title-link" itemprop="url">OpenGL相关概念</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-18 20:21:40" itemprop="dateCreated datePublished" datetime="2022-03-18T20:21:40+08:00">2022-03-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/OpenGL/" itemprop="url" rel="index"><span itemprop="name">OpenGL</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="/Blog/2022/03/18/OpenGL%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/top.jpeg" class="">

<h2 id="OpenGL是什么？"><a href="#OpenGL是什么？" class="headerlink" title="OpenGL是什么？"></a>OpenGL是什么？</h2><ul>
<li>OpenGL是一个图形API规范，由Khronos组织制定并维护。</li>
<li>OpenGL规范严格规定了每个函数如何执行，以及它的输出值，没有规定实现细节。</li>
<li>OpenGL库的开发者通常是显卡的生产商，不同显卡对应的OpenGL库实现细节可能不同，但是他们的功能和结果都遵循OpenGL规范。</li>
</ul>
<h2 id="核心模式和立即渲染模式"><a href="#核心模式和立即渲染模式" class="headerlink" title="核心模式和立即渲染模式"></a>核心模式和立即渲染模式</h2><ul>
<li><b>立即渲染模式</b>（Immediate mode）：早期OpenGL使用，也就是<span style="color:red;">固定渲染管线</span>（Fixed Pipeline），这个模式下绘制图形很方便。OpenGL的大多数功能都被库隐藏起来，开发者很少有控制OpenGL如何进行计算的自由。</li>
<li><b>核心模式</b>（Core-Profile）：也称为<span style="color:red;">可编程渲染管线</span>（Programmable Pipline）。OpenGL3.2开始废弃立即渲染模式，并鼓励开发者在OpenGL的核心模式下进行开发。从OpenGL3.3开始，新版本都在此基础上引入了额外的功能，核心架构并没有改动。</li>
</ul>
<h2 id="状态机"><a href="#状态机" class="headerlink" title="状态机"></a>状态机</h2><ul>
<li>OpenGL自身是一个巨大的状态机（State Machine）：一系列的变量描述OpenGL此刻应当如何运行。OpenGL的状态通常被称为OpenGL上下文。我们通常使用如下途径去更改OpenGL状态：设置选项，操作缓冲。最后，我们使用当前的OpenGL上下文渲染。</li>
<li>当使用OpenGL的时候，我们会遇到一些状态设置函数(例如：<code>glClearColor(0.2f, 0.3f, 0.3f, 1.0f);</code>)，这类函数将会改变上下文。也会遇到状态使用函数(例如：<code>glClear(GL_COLOR_BUFFER_BIT);</code>)，这类函数会根据当前OpenGL的状态执行一些操作。</li>
</ul>
<h2 id="图形渲染管线"><a href="#图形渲染管线" class="headerlink" title="图形渲染管线"></a>图形渲染管线</h2><p>在OpenGL中，任何事物都在3D空间中，而屏幕和窗口确是2D像素数组，这导致OpenGL的大部分工作都是把3D坐标转变为适应屏幕的2D像素。3D坐标转为2D像素的处理过程是由OpenGL的图形渲染管线（Graphics Pipeline）管理的。图形渲染管线可以被划分为两个主要部分：第一部分把你的3D坐标转换为2D坐标，第二部分是把2D坐标转变为实际的有颜色的像素。</p>
<img src="/Blog/2022/03/18/OpenGL%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/graphics_pipeline.png" class="" title="图形渲染管线流程图">

<ul>
<li>顶点着色器(Vertex Shader)：图形渲染管线的第一部分是顶点着色器，他作用于每一个顶点，将输入的3分量向量坐标转换成4分量的向量坐标，生成每个顶点的最终位置，存储在gl_Position中。每个顶点执行一次。</li>
<li>图元装配(Primitive Assembly)：将顶点着色器输出的所有顶点作为输入，并将所有的点装配成指定图元的形状。</li>
<li>几何着色器(Geometry Shader)：图元装配阶段的输出会传递给几何着色器。几何着色器把图元形式的一系列顶点的集合作为输入，它可以通过产生新的顶点构造出新的图元来生成其他形状。</li>
<li>光栅化(Rasterization Stage)：在这个阶段里把图元映射为最终屏幕上相应的像素，生成片段(Fragment)，供片段着色器(Fragment Shader)使用。在片段着色器运行之前会执行裁切(Clipping),裁切会丢弃超出你的视图以外的所有像素，用来提升效率。<blockquote>
<p>OpenGL中的一个片段是OpenGL渲染一个像素所需的所有数据。</p>
</blockquote>
</li>
<li>片段着色器(Fragment Shader)：主要目的是计算一个像素的最终颜色，这也是OpenGL高级效果产生的地方。通常，片段着色器包含3D场景的数据（比如光照、阴影、光的颜色等等），这些数据可以被用来计算最终像素的颜色。</li>
<li>测试与混合：在所有颜色确定以后，最终的对象会被传到测试和混合(Blending)阶段。这个阶段检测片段的对应深度和模板值，通过深度来判断像素是否被遮挡，是否应该丢弃。这个阶段也会检查alpha值，并对物体颜色进行混合。</li>
</ul>
<blockquote>
<p>大多数场合只需配置顶点和片段着色器就行，几何着色器是可选的，通常使用默认的几何着色器就行了。我们必须定义至少一个顶点着色器和一个片段着色器(因为GPU中没有默认的顶点/片段着色器)。</p>
</blockquote>
<h2 id="词汇表"><a href="#词汇表" class="headerlink" title="词汇表"></a>词汇表</h2><ul>
<li><b>GLAD</b>: 一个拓展加载库，用来为我们加载并设定所有OpenGL函数指针，从而让我们能够使用所有（现代）OpenGL函数。</li>
<li><b>视口(Viewport)</b>: 我们需要渲染的窗口。</li>
<li><b>图形管线(Graphics Pipeline)</b>:一个顶点在呈现为像素之前经过的全部过程。</li>
<li><b>着色器(Shader)</b>: 一个运行在显卡上的小型程序。很多阶段的图形管道都可以使用自定义的着色器来代替原有的功能。</li>
<li><b>标准化设备坐标(Normalized Device Coordinates，NDC)</b>: 顶点在通过裁剪坐标系中裁剪与透视除法后最终呈现的坐标系。所有位置在NDC下-1.0到1.0的顶点将不会被丢弃并且可见。</li>
<li><b>顶点缓冲对象(Vertex Buffer Object)</b>: 一个调用显存并存储所有顶点数据供显卡使用的缓冲对象。</li>
<li><b>顶点数组对象(Vertex Array Object)</b>: 存储缓冲区和顶点属性状态。</li>
<li><b>索引缓冲对象(Element Buffer Object)</b>: 一个存储索引供索引化绘制的使用的缓冲对象。</li>
<li><b>Uniform</b>: 一个特殊类型的GLSL变量。它是全局的（在一个着色器程序中每一个着色器都能够访问uniform变量），并且只需要被设定一次。</li>
<li><b>纹理(Texture)</b>: 一种包裹着物体的特殊类型的图像，给物体精细的视觉效果。</li>
<li><b>纹理缠绕(Texture Wrapping)</b>: 定义一种当纹理顶点超出范围(0, 1)时，指定OpenGL如何采样纹理的模式。</li>
<li><b>纹理过滤(Texture Filtering)</b>: 定义一种当有多种文素选择时指定OpenGL如何采样纹理的模式。这通常在纹理被放大情况下发生。</li>
<li><b>多级渐远纹理(Mipmaps)</b>: 被存储的材质的一些缩小版本，根据观察者的距离会使用材质的合适大小。</li>
<li><b>纹理单元(Texture Units)</b>: 通过绑定纹理到不同纹理单元从而允许多个纹理在同一对象上渲染。</li>
<li><b>向量(Vector)</b>: 一个定义了在空间中方向或位置的数学实体。</li>
<li><b>矩阵(Matrix)</b>: 一个矩形阵列的数学表达式。</li>
<li><b>GLM</b>: 一个为OpenGL打造的数学库。</li>
<li><b>局部空间(Local Space)</b>: 一个物体的初始空间。所有的坐标都是相对于物体原点的。</li>
<li><b>世界空间(World Space)</b>: 所有坐标都是相对于全局原点的。</li>
<li><b>观察空间(View Space)</b>: 所有的坐标都是从摄像机的视角观察的。</li>
<li><b>裁剪空间(Clip Space)</b>: 所有的坐标都是从摄像机视角观察的，但是该空间应用了投影。这个空间应该是一个顶点坐标最终的空间，作为顶点着色器的输出。OpenGL负责处理剩下的事情（裁剪/透视除法）。</li>
<li><b>屏幕空间(Screen Space)</b>: 所有的坐标都由屏幕视角来观察，坐标的范围是从0到屏幕的宽/高。</li>
<li><b>LookAt矩阵</b>: 一种特殊类型的观察矩阵，它创建了一个坐标系，其中所有的坐标都根据从一个位置观察目标用户的旋转或平移。</li>
<li><b>欧拉角(Euler Angles)</b>: 被定义为偏航角(Yaw)，俯仰角(Pitch)和滚转角(Roll)从而允许我们通过这三个值构造任何3D方向。</li>
</ul>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://learnopengl-cn.github.io/01%20Getting%20started/04%20Hello%20Triangle/">你好，三角形</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/455759091">Shader知识普及之：顶点着色器</a><br><a target="_blank" rel="noopener" href="http://imgtec.eetrend.com/blog/2019/100045068.html">顶点着色器、片段着色器、uniform变量</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/" class="post-title-link" itemprop="url">如何添加CloudFlare免费CDN加速</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-14 15:40:10" itemprop="dateCreated datePublished" datetime="2021-12-14T15:40:10+08:00">2021-12-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/VPS/" itemprop="url" rel="index"><span itemprop="name">VPS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Cloudflare 是一家国外的 CDN 加速服务商，还是很有名气的。提供免费和付费的加速和网站保护服务。百度云加速的国外节点就是和 Cloudflare 合作使用的 Cloudflare 的节点。Cloudflare 提供了不同类型的套餐，即使是免费用户，Cloudflare 提供的功能也是很全面的。对于访客来自于国外的网站很不错；对于访客来自于国内的网站加速效果有限，有些甚至会变慢，不过其安全防护功能也很不错。</p>
<h1 id="为什么需要使用Cloudflare？"><a href="#为什么需要使用Cloudflare？" class="headerlink" title="为什么需要使用Cloudflare？"></a>为什么需要使用Cloudflare？</h1><ul>
<li>保护VPS的真实IP，避免IP被封，或者提高IP查询的难度。使用Cloudflare后，ping域名，返回的是Cloudflare的CDN服务器IP，真实的IP会被保护起来。</li>
<li>加速国外网站的访问速度。</li>
</ul>
<h1 id="如何配置？"><a href="#如何配置？" class="headerlink" title="如何配置？"></a>如何配置？</h1><p>官网： <a target="_blank" rel="noopener" href="http://www.cloudflare.com/">www.cloudflare.com</a><br>使用邮箱注册，注册完后自动进入添加网站界面。添加网站分为四步：添加网站域名、选择方案、添加DNS记录、更新域名服务器。</p>
<div style="width:600px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/1.jpeg" class="" title="配置的整体逻辑截图"> </div>

<h2 id="添加网站域名"><a href="#添加网站域名" class="headerlink" title="添加网站域名"></a>添加网站域名</h2><p>进入后台首页，点击“Add a site”，输入要解析的域名</p>
<div style="width:600px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/2.png" class="" title="添加网站域名截图"> </div>

<h2 id="选择方案"><a href="#选择方案" class="headerlink" title="选择方案"></a>选择方案</h2><p>一般来说我们选择免费方案即可（Free），如果觉得不差钱也可以选择付费，但是付费方案和免费方案的 DNS 解析功能是一样的，可用的 CDN 节点也是一样的。</p>
<div style="width:600px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/3.png" class="" title="选择方案截图"> </div>

<h2 id="添加DNS记录"><a href="#添加DNS记录" class="headerlink" title="添加DNS记录"></a>添加DNS记录</h2><ul>
<li>1.选择记录类型，一般默认 A 记录即可，如图所示。</li>
<li>2.输入要解析的域名，比如 example.com（此时只需要输入 @ 即可），或者 <a target="_blank" rel="noopener" href="http://www.example.com(此时只需要输入/">www.example.com（此时只需要输入</a> www 即可）。</li>
<li>3.填写 IP 地址，也就是你 VPS 的 IP 地址。</li>
<li>4.TTL 默认即可，不用改。</li>
<li>5.黄色云朵表示该解析通过 CDN 访问，灰色云朵表示不通过 CDN 访问，点击云朵可以切换状态。这里如果选择不走 CDN 的话，相当于只使用 Cloudflare 的 DNS 功能。这里建议全部调为黄色云朵走 CDN 访问，隐藏网站真实 IP 地址。全站通过 CDN 访问可以有效防止网站真实IP泄漏，保护原站安全。</li>
<li>6.点击 Add Record 添加记录。</li>
<li>7.所有要添加的记录都添加完之后，点击 Continue 进入下一个页面。<div style="width:600px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/4.png" class="" title="添加DNS记录截图"> </div>

</li>
</ul>
<h2 id="更新域名服务器"><a href="#更新域名服务器" class="headerlink" title="更新域名服务器"></a>更新域名服务器</h2><p>域名解析添加完成后，此时会显示你分配到的 Cloudflare 的 DNS 服务器，每个人都不一样，大家看一下自己的，然后去域名注册商处修改 Name Server，即可完成解析。</p>
<div style="width:600px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/5.png" class="" title="更新域名服务器截图"> </div>

<p>登录域名注册商后台，然后进入对应的域名管理，找到“DNS 服务器”、“Name Server” 或者类似的字眼，然后把默认的 DNS 服务器修改成 Cloudflare 提供的 DNS 服务器即可。</p>
<div style="width:600px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/6.png" class="" title="更新域名服务器截图"> </div>

<p>等待大概1个多小时，ping一下域名，发现DNS解析返回的是Cloudflare的IP，这样就成功配置完成了。</p>
<div style="width:800px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/12/14/%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0CloudFlare%E5%85%8D%E8%B4%B9CDN%E5%8A%A0%E9%80%9F/7.png" class="" title="查询服务器IP截图"> </div>

<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p><a target="_blank" rel="noopener" href="https://www.bandwagonhost.net/5986.html">使用 Cloudflare 免费 DNS 服务器解析域名到搬瓦工 VPS 主机建站教程</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/29891330">CloudFlare免费CDN加速使用方法</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2021/10/29/%E7%BA%A6%E6%9D%9F%E7%9B%B8%E5%85%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2021/10/29/%E7%BA%A6%E6%9D%9F%E7%9B%B8%E5%85%B3/" class="post-title-link" itemprop="url">约束相关</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-29 08:29:46" itemprop="dateCreated datePublished" datetime="2021-10-29T08:29:46+08:00">2021-10-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>647</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>问题1：The safe area layout guide is the space available to our view, excluding rounded corners and notches.<br>答案：All important content should lie inside the safe area, or you risk it being obscured.</p>
<p>问题2：<code>layoutMarginsGuide</code> and <code>safeAreaLayoutGuide</code> are the same thing.<br>答案：Not quite: <code>layoutMarginsGuide</code> is inside the <code>safeAreaLayoutGuide</code>, so it will be slightly smaller.</p>
<p>问题3: Activating multiple constraints at once is faster than modifying isActive for each one.<br>答案：Apple explicitly recommends using activate() for this purpose.</p>
<p>问题4: Content hugging priority controls how likely Auto Layout is to make a view smaller than its intrinsic content size.<br>答案：Content hugging priority controls how likely Auto Layout is to make a view larger than its intrinsic content size.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2021/07/14/iOS%E5%B4%A9%E6%BA%83%E6%97%A5%E5%BF%97ips%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2021/07/14/iOS%E5%B4%A9%E6%BA%83%E6%97%A5%E5%BF%97ips%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">iOS崩溃日志ips文件解析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-14 21:34:24" itemprop="dateCreated datePublished" datetime="2021-07-14T21:34:24+08:00">2021-07-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>621</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>有时候测试同学提供的release包的崩溃日志过来，直接提供的是ips文件，如何将ips文件解析成带符号的崩溃日志呢？<br>1.在桌面新建test1文件夹，将ips文件拷贝进去，重命名为<code>xxx.crash</code>文件。<br>2.找到对应版本的dSYM文件，拷贝至test1目录下。<br>3.前往路径<code>/Applications/Xcode.app/Contents/SharedFrameworks/DVTFoundation.framework/Versions/A/Resources/symbolicatecrash</code>，将文件<code>symbolicatecrash</code>拷贝至test1目录。<br>4.执行命令<code>./symbolicatecrash ./xxx-2021-07-14-204056.crash ./xxx.dSYM &gt; log.crash</code>，如果没报错，在test1目录下就会生成一个log.crash文件，里面是符号化过的，可以看见部分具体的函数和库名。<br>5.如果出现报错<code>Error: &quot;DEVELOPER_DIR&quot; is not defined at ./symbolicatecrash line 69.</code>，请执行一下命令<code>export DEVELOPER_DIR=&quot;/Applications/Xcode.app/Contents/Developer&quot;</code>，然后再执行第4步的命令即可。</p>
<p>最终的文件目录为：</p>
<img src="/Blog/2021/07/14/iOS%E5%B4%A9%E6%BA%83%E6%97%A5%E5%BF%97ips%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/1.png" class="" title="文件目录截图">

<p>未符号转化的ips文件截图：</p>
<img src="/Blog/2021/07/14/iOS%E5%B4%A9%E6%BA%83%E6%97%A5%E5%BF%97ips%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/3.png" class="" title="未符号转化的ips文件截图">

<p>符号化后的文件截图为：</p>
<img src="/Blog/2021/07/14/iOS%E5%B4%A9%E6%BA%83%E6%97%A5%E5%BF%97ips%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/2.png" class="" title="符号化后的文件截图">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="post-title-link" itemprop="url">VPS搭建v2ray服务器</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-30 13:15:21" itemprop="dateCreated datePublished" datetime="2021-06-30T13:15:21+08:00">2021-06-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/VPS/" itemprop="url" rel="index"><span itemprop="name">VPS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="自建v2Ray教程，总共分为5步"><a href="#自建v2Ray教程，总共分为5步" class="headerlink" title="自建v2Ray教程，总共分为5步"></a>自建v2Ray教程，总共分为5步</h2><p>第一步：购买VPS服务器<br>第二步：购买免费域名并绑定VPS服务器<br>第三步：一键部署v2ray脚本<br>第四步：一键加速VPS服务器（五合一的TCP网络加速脚本）<br>第五步：修改服务器时区</p>
<h2 id="购买VPS服务器"><a href="#购买VPS服务器" class="headerlink" title="购买VPS服务器"></a>购买VPS服务器</h2><p>本篇采用的VPS是一家加拿大VPS服务提供商。这家提供商共有3个机房位置，拉斯维加斯、纽约、卢森堡。这次使用的服务器位于拉斯维加斯，延时在200ms左右。购买地址：<a target="_blank" rel="noopener" href="https://my.frantech.ca/cart.php">https://my.frantech.ca/cart.php</a></p>
<img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/vps.png" class="" title="vps官网截图">

<h2 id="购买免费域名并绑定VPS服务器"><a href="#购买免费域名并绑定VPS服务器" class="headerlink" title="购买免费域名并绑定VPS服务器"></a>购买免费域名并绑定VPS服务器</h2><p><a target="_blank" rel="noopener" href="http://www.freenom.com/zh/index.html">freenom</a> 提供了tk、ml、ga、cf、gq 这几类后缀的免费域名。tk域名，意为 Talker（说话的人）。.tk域名是南太平洋岛国托克劳的顶级域名, .ml 是非洲国家马里的后缀, .ga 域名为加蓬国家顶级域名后缀, .cf 是中非共和国的后缀, .gq域名是赤道几内亚国家地区顶级域名。</p>
<h3 id="申请freenom免费域名"><a href="#申请freenom免费域名" class="headerlink" title="申请freenom免费域名"></a>申请freenom免费域名</h3><p>访问 freenom <a target="_blank" rel="noopener" href="http://www.freenom.com/zh/index.html">官方网站</a>然后直接在搜索框里面输入你想申请的域名类型，比如：freedo.ga，不是所有上面介绍的几个类型的域名后缀都是免费的，系统会自动检查域名是否免费，比如：</p>
<div style="width:707px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/freenom1.png" class="" title="申请freedom免费域名的截图"> </div>

<p>上面显示申请 freedo.ga 这个域名是免费的，那么你就可以直接选择完成进入下一步。进入下一步后，在域名选项的最右侧有个 period 选项，你可以在它的列表里选择你想申请免费的时间，比如，我想免费申请一年，那么我选择 12 months free 这个选项：</p>
<div style="width:605px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/freenom2.png" class="" title="申请freedom免费域名的截图"> </div>

<p>你也可以在这一步直接设置域名解析，把你的域名直接指向你的 ip，也可以跳过，在后面进行解析。 如：</p>
<div style="width:918x; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/freenom3.png" class="" title="域名购买过程中解析域名的截图"> </div>

<h3 id="freenom域名解析"><a href="#freenom域名解析" class="headerlink" title="freenom域名解析"></a>freenom域名解析</h3><p>首先登录自己的账号，然后选择<code>Services-&gt;My Domains</code>,如下截图：</p>
<div style="width:458px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/freenom6.png" class="" title="我的域名的截图"> </div>

<p>选择最右侧的<code>Manage Domains</code>(域名管理选项)，点击该选项，就可以进入域名管理界面：</p>
<div style="width:947px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/freenom7.png" class="" title="域名管理的截图"> </div>

<div style="width:617px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/freenom8.png" class="" title="域名管理的截图"> </div>

<p>在<code>Management Tools</code>选项下选择<code>namesservers</code>，系统默认使用的是freenom自己默认的dns服务器。你可以设定其他的dns服务器。这里我使用默认的dns服务器，先不做修改。然后点击右侧的<code>Manage Freenom DNS</code>选项，给自己的域名绑定ip 比如：</p>
<div style="width:899px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/freenom9.png" class="" title="域名管理的截图"> </div>

<p>在 target 选项输入你域名要绑定的 ip ，在 Name 选项输入 www 或其它子域名，type 你可以根据需要进行选择。当保存成功后，你就可以直接输入域名访问你的站点了。 由于 freenom 的 dns 解析对国内可能会比较不友好，你可以修改域名默认的 dns 解析服务，把 dns解析服务修改为国内的 dns 服务，比如 CloudXNS 或者 DNSPod 。</p>
<h2 id="一键部署v2ray脚本"><a href="#一键部署v2ray脚本" class="headerlink" title="一键部署v2ray脚本"></a>一键部署v2ray脚本</h2><p>当封锁特别厉害的时候，常规的v2ray配置可能已经无法满足需求，这个时候我们可以搭建VLESS+TCP+TLS/VLESS+TCP+XTLS/VLESS+WS+TLS/VMess+TCP+TLS/VMess+WS+TLS，搭建脚本需要购买域名。(<a target="_blank" rel="noopener" href="https://my.freenom.com/">免费域名</a>)<br>（VLESS+TCP+TLS/VLESS+TCP+XTLS/VLESS+WS+TLS/VMess+TCP+TLS/VMess+WS+TLS/Trojan/Trojan-Go WS）+伪装站点、七合一共存脚本，支持多内核安装，支持系统Debian 8+ / Ubuntu 16.04+ / Centos7</p>
<p>脚本安装命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/mack-a/v2ray-agent/master/install.sh&quot;</span> &amp;&amp; chmod 700 install.sh &amp;&amp; ./install.sh</span><br></pre></td></tr></table></figure>

<p>脚本执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">==============================================================</span><br><span class="line">作者：mack-a</span><br><span class="line">当前版本：v2.5.12</span><br><span class="line">Github：https://github.com/mack-a/v2ray-agent</span><br><span class="line">描述：八合一共存脚本</span><br><span class="line">==============================================================</span><br><span class="line">1.安装</span><br><span class="line">2.任意组合安装</span><br><span class="line">-------------------------工具管理-----------------------------</span><br><span class="line">3.账号管理</span><br><span class="line">4.更换伪装站</span><br><span class="line">5.更新证书</span><br><span class="line">6.更换CDN节点</span><br><span class="line">7.IPv6分流</span><br><span class="line">8.WARP分流</span><br><span class="line">9.流媒体工具</span><br><span class="line">10.添加新端口</span><br><span class="line">-------------------------版本管理-----------------------------</span><br><span class="line">11.core管理</span><br><span class="line">12.更新脚本</span><br><span class="line">13.安装BBR、DD脚本</span><br><span class="line">-------------------------脚本管理-----------------------------</span><br><span class="line">14.查看日志</span><br><span class="line">15.卸载脚本</span><br><span class="line">==============================================================</span><br><span class="line">请选择:1</span><br><span class="line"></span><br><span class="line">功能 1/1 : 选择核心安装</span><br><span class="line"></span><br><span class="line">==============================================================</span><br><span class="line">1.Xray-core</span><br><span class="line">2.v2ray-core</span><br><span class="line">==============================================================</span><br><span class="line">请选择：2</span><br><span class="line">安装工具</span><br><span class="line"></span><br><span class="line">进度  2/17 : 安装工具</span><br><span class="line"> ---&gt; 检查、安装更新【新机器会很慢，如长时间无反应，请手动停止后重新执行】</span><br><span class="line"> ---&gt; 安装socat</span><br><span class="line"> ---&gt; 安装crontabs</span><br><span class="line"> ---&gt; 安装jq</span><br><span class="line"> ---&gt; 安装binutils</span><br><span class="line"> ---&gt; 安装qrencode</span><br><span class="line"> ---&gt; 安装lsb-release</span><br><span class="line"> ---&gt; 安装nginx</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service.</span><br><span class="line"> ---&gt; 安装semanage</span><br><span class="line"> ---&gt; 安装acme.sh</span><br><span class="line"></span><br><span class="line">进度  3/17 : 初始化Nginx申请证书配置</span><br><span class="line"></span><br><span class="line">请输入要配置的域名 例：www.v2ray-agent.com ---&gt;</span><br><span class="line">域名:www.xxxx.tk</span><br><span class="line"></span><br><span class="line"> ---&gt; 配置Nginx</span><br><span class="line"></span><br><span class="line">检查IP是否设置为当前VPS</span><br><span class="line"> ---&gt; 检查ipv4中</span><br><span class="line"></span><br><span class="line">当前域名的IP为 [209.xx.xx.xx]，是否正确[y/n]？y</span><br><span class="line"></span><br><span class="line"> ---&gt; IP确认完成</span><br><span class="line"></span><br><span class="line">检查Nginx是否正常访问</span><br><span class="line"></span><br><span class="line"> ---&gt; Nginx配置成功</span><br><span class="line"></span><br><span class="line">进度  4/17 : 申请TLS证书</span><br><span class="line"></span><br><span class="line"> ---&gt; 安装TLS证书</span><br><span class="line"> ---&gt; TLS生成成功</span><br><span class="line"></span><br><span class="line">进度  5/17 : 配置Nginx</span><br><span class="line"></span><br><span class="line">进度  6/17 : 生成随机路径</span><br><span class="line">请输入自定义路径[例: alone]，不需要斜杠，[回车]随机路径</span><br><span class="line">路径:</span><br><span class="line">path：bqri</span><br><span class="line"></span><br><span class="line">----------------------------</span><br><span class="line"></span><br><span class="line">进度  7/17 : 安装V2Ray</span><br><span class="line"> ---&gt; v2ray-core版本:v4.41.0</span><br><span class="line"></span><br><span class="line">进度  8/17 : 配置V2Ray开机自启</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/v2ray.service to /etc/systemd/system/v2ray.service.</span><br><span class="line"> ---&gt; 配置V2Ray开机自启成功</span><br><span class="line"></span><br><span class="line">进度 11/17 : 添加DNS智能解析</span><br><span class="line"></span><br><span class="line">如对Cloudflare自选ip不了解，请选择[n]</span><br><span class="line"></span><br><span class="line"> 移动:104.16.123.96</span><br><span class="line"> 联通:hostmonit.com</span><br><span class="line"> 电信:www.digitalocean.com</span><br><span class="line">----------------------------</span><br><span class="line">是否使用？[y/n]:n</span><br><span class="line"></span><br><span class="line">进度 12/17 : 初始化V2Ray配置</span><br><span class="line"></span><br><span class="line">是否自定义UUID ？[y/n]:n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">进度 14/17 : 添加定时维护证书</span><br><span class="line"></span><br><span class="line"> ---&gt; 添加定时维护证书成功</span><br><span class="line"></span><br><span class="line">进度 15/17 : 添加伪装站点</span><br><span class="line"> ---&gt; 添加伪装站点成功</span><br><span class="line"> ---&gt; V2Ray关闭成功</span><br><span class="line"> ---&gt; V2Ray启动成功</span><br><span class="line"></span><br><span class="line">进度 16/17 : 验证服务启动状态</span><br><span class="line"> ---&gt; 服务启动成功</span><br><span class="line"></span><br><span class="line">进度 17/17 : 账号</span><br></pre></td></tr></table></figure>



<h2 id="一键加速VPS服务器（五合一的TCP网络加速脚本）"><a href="#一键加速VPS服务器（五合一的TCP网络加速脚本）" class="headerlink" title="一键加速VPS服务器（五合一的TCP网络加速脚本）"></a>一键加速VPS服务器（五合一的TCP网络加速脚本）</h2><p>五合一的TCP网络加速脚本，包括了BBR原版、BBR魔改版、暴力BBR魔改版、BBR plus（首选）、Lotsever(锐速)安装脚本。可用于KVMXen架构，不兼容OpenVZ（OVZ）。支持Centos 6+ / Debian 7+ / Ubuntu 14+，BBR魔改版不支持Debian 8。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh&quot;</span></span><br><span class="line"></span><br><span class="line">chmod +x tcp.sh</span><br><span class="line"></span><br><span class="line">./tcp.sh</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果提示 wget: command not found 的错误，这是你的系统精简的太干净了，wget都没有安装，所以需要安装wget。<br/>CentOS系统安装wget命令： yum install -y wget <br/>Debian/Ubuntu系统安装wget命令：apt-get install -y wget</p>
</blockquote>
<p>安装完成后，脚本管理命令为：<code>./tcp.sh</code></p>
<div style="width:511px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/bbr%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85.jpeg" class="" title="bbr脚本安装的截图"> </div>


<p>操作方法：先安装内核，重启vps让内核生效，再启动对应的加速即可。数字1的BBR/BBR魔改内核对应数字4、5、6的BBR加速、BBR魔改加速和暴力BBR魔改版加速。数字2的BBRplus内核对应数字7的BBRplus加速。数字3的锐速加速内核对应数字8的锐速加速。</p>
<p>以安装暴力BBR魔改版加速为例，我们先安装对应的内核，输入数字1，内核安装完成后，输入y进行重启，重启才能让内核生效：</p>
<div style="width:611px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/bbr%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%851.jpeg" class="" title="bbr脚本安装的截图"> </div>

<p>重启完成后，输入数字6来启动暴力BBR魔改版加速</p>
<div style="width:474px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/bbr%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%852.jpeg" class="" title="bbr脚本安装的截图"> </div>

<p>输入./tcp.sh查看最终是否启动成功。</p>
<div style="width:544px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/bbr%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%853.jpeg" class="" title="bbr脚本安装的截图"> </div>

<div style="width:486px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/bbr%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%854.jpeg" class="" title="bbr脚本安装的截图"> </div>
<br/>
如果想换一个加速，输入数字9进行卸载加速，然后进行同样的操作，安装内核再安装对应内核的加速即可。<br/>
<b>注意：如果在安装内核环节出现这样一张图，注意选择NO</b>
<div style="width:736px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/bbr%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%855.jpeg" class="" title="bbr脚本安装的截图"> </div>
<br/>

<h2 id="修改服务器时区"><a href="#修改服务器时区" class="headerlink" title="修改服务器时区"></a>修改服务器时区</h2><p>a.一般国外的VPS的镜像都是默认的国外时区，使用起来不是很方便。可以把它修改成北京时间，就会方便很多。 修改中国时区代码如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\cp -f /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>

<p>b.利用NTP同步时间协议 <br/><br>CentOS系统先安装NTP：<code>yum install ntp ntpdate -y</code></p>
<blockquote>
<p>如果是Ubuntu/Debian系统执行下面2条命令来安装NTP <br/></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install ntp ntpdate -y</span><br></pre></td></tr></table></figure>

<p>安装NTP后，按照顺序依次执行以下3条命令，分别是停止NTP服务、同步NTP时间、启动NTP服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">service ntpd stop</span><br><span class="line"></span><br><span class="line">ntpdate us.pool.ntp.org</span><br><span class="line"></span><br><span class="line">service ntpd start</span><br></pre></td></tr></table></figure>
<p>执行完成后，VPS上就是相对精确的时间设置了。很多依赖于系统时间的应用程序也就能正常工作了。注意：当vps重启后输入date来检查下时间，如果时间不是最新的，再执行以上3条命令即可。</p>
<h2 id="服务器查看回程"><a href="#服务器查看回程" class="headerlink" title="服务器查看回程"></a>服务器查看回程</h2><ul>
<li><p>先查明自己本地IP，使用命令行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ curl -s http://myip.ipip.net</span><br><span class="line">当前 IP：27.115.6.196  来自于：中国 上海 上海  联通</span><br></pre></td></tr></table></figure>
</li>
<li><p>远程登录VPS，下载查看回程的脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget https://cdn.ipip.net/17mon/besttrace4linux.zip</span></span><br><span class="line"><span class="comment"># unzip besttrace*</span></span><br><span class="line"><span class="comment"># chmod +x besttrace</span></span><br><span class="line"><span class="comment"># ./besttrace 27.115.6.196</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="客户端查看去程"><a href="#客户端查看去程" class="headerlink" title="客户端查看去程"></a>客户端查看去程</h2><ul>
<li>MAC电脑去AppStore下载“BestTrace”软件</li>
<li>输入VPS的IP地址，回车即可在地图上展示网络去程路线<div style="width:736px; margin:0px; padding:0px; align:left;"> <img src="/Blog/2021/06/30/VPS%E6%90%AD%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8/vps_net.png" class="" title="客户端查看去程网络路线"> </div>


</li>
</ul>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul>
<li>免费ssl证书只能使用3个月，到期后需要手动更换证书</li>
</ul>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://my.frantech.ca/cart.php">VPS官网</a><br><a target="_blank" rel="noopener" href="https://my.freenom.com/clientarea.php?action=domains">免费域名</a><br><a target="_blank" rel="noopener" href="https://coderschool.cn/2197.html">免费域名解析</a><br><a href="https://github.com/Alvin9999/new-pac/wiki/%E8%87%AA%E5%BB%BAv2ray%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%95%99%E7%A8%8B">自建V2Ray教程</a><br><a href="https://github.com/yanue/V2rayU">V2Ray客户端下载地址</a><br><a target="_blank" rel="noopener" href="https://www.namesilo.com/">低价域名</a><br><a target="_blank" rel="noopener" href="https://www.ipip.net/">查看本地IP地址</a><br><a target="_blank" rel="noopener" href="https://www.bandwagonhost.net/1186.html">搬瓦工教程：使用BestTrace查看VPS的去程和回程</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2021/03/30/security%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2021/03/30/security%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">security相关命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-03-30 19:04:50" itemprop="dateCreated datePublished" datetime="2021-03-30T19:04:50+08:00">2021-03-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/%E8%87%AA%E5%8A%A8%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">自动化</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>767</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="security相关命令"><a href="#security相关命令" class="headerlink" title="security相关命令"></a>security相关命令</h1><h2 id="证书导入命令"><a href="#证书导入命令" class="headerlink" title="证书导入命令"></a>证书导入命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ security import /Users/kris/Desktop/<span class="built_in">test</span>/distribution.p12 -k ~/Library/Keychains/login.keychain -P 证书安装密码 -T /usr/bin/codesign -T /usr/bin/security</span><br><span class="line"></span><br><span class="line">$ security set-key-partition-list -S apple-tool:,apple:,codesign: -s -k 电脑密码 ~/Library/Keychains/login.keychain</span><br></pre></td></tr></table></figure>
<p>使用上述两条命令导入证书后，可以避免打包的时候弹出系统的鉴权弹框，在一些完全命令行自动化的场景下，这些鉴权的输入框无法展示，所以建议使用以上两条命令来导入证书。</p>
<h2 id="删除证书命令"><a href="#删除证书命令" class="headerlink" title="删除证书命令"></a>删除证书命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ security delete-identity -c <span class="string">&quot;iPhone Distribution: XXXXX Management Co., Ltd.&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="解锁钥匙串"><a href="#解锁钥匙串" class="headerlink" title="解锁钥匙串"></a>解锁钥匙串</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ security unlock-keychain -p 电脑密码 ~/Library/Keychains/login.keychain</span><br></pre></td></tr></table></figure>

<h2 id="查看默认钥匙串"><a href="#查看默认钥匙串" class="headerlink" title="查看默认钥匙串"></a>查看默认钥匙串</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ security default-keychain</span><br></pre></td></tr></table></figure>

<h2 id="列出机器上所有的钥匙串"><a href="#列出机器上所有的钥匙串" class="headerlink" title="列出机器上所有的钥匙串"></a>列出机器上所有的钥匙串</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ security list-keychains</span><br></pre></td></tr></table></figure>

<h2 id="查看security命令手册"><a href="#查看security命令手册" class="headerlink" title="查看security命令手册"></a>查看security命令手册</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ man security</span><br></pre></td></tr></table></figure>
<h2 id="查看security-delete-identity命令用法"><a href="#查看security-delete-identity命令用法" class="headerlink" title="查看security delete-identity命令用法"></a>查看security delete-identity命令用法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ security delete-identity <span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<h2 id="附上man命令的快捷操作"><a href="#附上man命令的快捷操作" class="headerlink" title="附上man命令的快捷操作"></a>附上man命令的快捷操作</h2><table>
<thead>
<tr>
<th align="center">按键</th>
<th align="center">实现功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">空格键</td>
<td align="center">向下翻一页</td>
</tr>
<tr>
<td align="center">Pg Dn</td>
<td align="center">向下翻一页</td>
</tr>
<tr>
<td align="center">Pg Up</td>
<td align="center">向上翻一页</td>
</tr>
<tr>
<td align="center">Home</td>
<td align="center">去到第一页</td>
</tr>
<tr>
<td align="center">End</td>
<td align="center">去到最后一页</td>
</tr>
<tr>
<td align="center">/string</td>
<td align="center">向下搜索string这个字符串</td>
</tr>
<tr>
<td align="center">?string</td>
<td align="center">向上搜索string这个字符串</td>
</tr>
<tr>
<td align="center">q</td>
<td align="center">结束这次的手册页</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/" class="post-title-link" itemprop="url">Jenkins问题汇总</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-24 16:39:57" itemprop="dateCreated datePublished" datetime="2021-01-24T16:39:57+08:00">2021-01-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/Jenkins/" itemprop="url" rel="index"><span itemprop="name">Jenkins</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>651</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Jenkins执行Shell脚本，控制台出现中文乱码怎么办？"><a href="#Jenkins执行Shell脚本，控制台出现中文乱码怎么办？" class="headerlink" title="Jenkins执行Shell脚本，控制台出现中文乱码怎么办？"></a>Jenkins执行Shell脚本，控制台出现中文乱码怎么办？</h1><p>使用Jenkins执行Shell脚本，默认的情况下，Jenkins的控制台展示的中文会出现部分乱码，如下图所示：</p>
<img src="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/2.jpg" class="" title="Jenkins部分中文乱码问题截图">
<p>解决办法：</p>
<ul>
<li>1.在<code>系统管理-&gt;系统配置-&gt;全局属性</code>添加一个键值对，键的名称<code>LANG</code>，值的名称<code>zh.CH.UTF-8</code>，然后划到网页的底部保存并应用。</li>
<li>2.并且在Shell脚本的最开始添加<code>#!/bin/bash</code>来指定使用系统的Shell命令来执行。<br>截图1:<img src="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/3.jpg" class="" title="解决Jenkins终端乱码问题-添加全局属性">
截图2:<img src="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/4.jpg" class="" title="解决Jenkins终端乱码问题-指定使用系统的Shell来执行命令">
解决完乱码之后的截图：<img src="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/6.jpg" class="" title="解决完Jenkins乱码的截图">

</li>
</ul>
<h1 id="Jenkins提示invalid-byte-sequence-in-US-ASCII怎么办"><a href="#Jenkins提示invalid-byte-sequence-in-US-ASCII怎么办" class="headerlink" title="Jenkins提示invalid byte sequence in US-ASCII怎么办?"></a>Jenkins提示<code>invalid byte sequence in US-ASCII</code>怎么办?</h1><p>使用Jenkins执行Shell脚本的时候，出现了这个提示，截图如下：</p>
<img src="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/1.jpeg" class="" title="invalid byte sequence in US-ASCII问题截图">
<p>解决办法：<br>在<code>系统管理-&gt;系统配置-&gt;全局属性</code>添加一个键值对，键的名称<code>LC_ALL</code>，值的名称<code>en_US.UTF-8</code>，然后划到网页的底部保存并应用。</p>
<img src="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/5.jpg" class="" title="解决Jenkins提示字符无效的问题">
<p>解决完乱码之后的截图：</p>
<img src="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/7.jpg" class="" title="解决完Jenkins提示字符无效问题的截图">

<h1 id="如果Jenkins控制台提示无权限访问文件或路径怎么办？"><a href="#如果Jenkins控制台提示无权限访问文件或路径怎么办？" class="headerlink" title="如果Jenkins控制台提示无权限访问文件或路径怎么办？"></a>如果Jenkins控制台提示无权限访问文件或路径怎么办？</h1><p>解决办法：<br>需要找到Jenkins的配置文件，我的Jenkins是使用<code>Homebrew</code>安装的，配置文件路径是<code>/Library/LaunchDaemons/org.jenkins-ci.plist</code>。<br>找到这个文件之后，修改<code>GroupName</code>和<code>UserName</code>，让这两个值和电脑登录的组名和用户名保持一致。</p>
<img src="/Blog/2021/01/24/Jenkins%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/8.png" class="" title="修改Jenkins执行的组名和用户名">

<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/fa546f723724">Jenkins执行脚本提示没有权限的解决办法</a><br><a target="_blank" rel="noopener" href="http://www.voidcn.com/article/p-oybichjy-bep.html">Jenkins上，xcpretty编译报错：invalid byte sequence in US-ASCII</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/DavidWanderer/Blog/2021/01/10/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%87%8D%E7%AD%BE%E5%90%8D%E9%94%99%E8%AF%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="David的博客">
      <meta itemprop="description" content="Your dreams don't work unless you do.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stay hungry, Stay foolish.">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/2021/01/10/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%87%8D%E7%AD%BE%E5%90%8D%E9%94%99%E8%AF%AF/" class="post-title-link" itemprop="url">记一次重签名错误</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-10 11:25:26" itemprop="dateCreated datePublished" datetime="2021-01-10T11:25:26+08:00">2021-01-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/iOS%E8%B6%8A%E7%8B%B1/" itemprop="url" rel="index"><span itemprop="name">iOS越狱</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="什么问题？"><a href="#什么问题？" class="headerlink" title="什么问题？"></a>什么问题？</h1><p>最近打开Cydia就闪退，我就重新去下载了uncOver，打算重新越狱一下，但是在重签名的时候一直失败，提示”No codesigning certificates found”的错误。</p>
<img src="/Blog/2021/01/10/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%87%8D%E7%AD%BE%E5%90%8D%E9%94%99%E8%AF%AF/1.png" class="" title="重签名失败的错误截图">

<h1 id="什么原因导致？"><a href="#什么原因导致？" class="headerlink" title="什么原因导致？"></a>什么原因导致？</h1><p>由于我之前使用<code>iOS App Signer</code>这个MAC软件一直没有问题，今天遇到这个问题，我就想去github把源码克隆到本地，然后调试一下，看看具体是什么原因导致。<br>打开源码直接搜索<code>No codesigning</code>发现，这个错误是一个Alert弹框，和我们遇到的弹框信息一致。</p>
<img src="/Blog/2021/01/10/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%87%8D%E7%AD%BE%E5%90%8D%E9%94%99%E8%AF%AF/2.png" class="" title="搜索错误提示的截图">

<p>最终调试发现，在程序调用<code>/usr/bin/security find-identity -v -p codesigning</code>命令时由于返回值为空，才触发错误弹框。</p>
<img src="/Blog/2021/01/10/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%87%8D%E7%AD%BE%E5%90%8D%E9%94%99%E8%AF%AF/3.png" class="" title="源码执行命令的截图">

<p>我把命令拷贝到终端执行，发现返回有效的identity的数量是0:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ /usr/bin/security find-identity -v -p codesigning</span><br><span class="line">     0 valid identities found</span><br></pre></td></tr></table></figure>

<p>此处的命令的意思是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/security:</span><br><span class="line">A simple <span class="built_in">command</span> line interface <span class="built_in">which</span> lets you administer keychains, </span><br><span class="line">manipulate keys and certificates, and <span class="keyword">do</span> just about anything the </span><br><span class="line">Security framework is capable of from the <span class="built_in">command</span> line.</span><br><span class="line">(是一个管理钥匙串、keys和证书的命令行接口)</span><br><span class="line"></span><br><span class="line">find-identify:</span><br><span class="line">查找证书和私钥key的命令</span><br><span class="line"></span><br><span class="line">-v: 只显示有效的证书，默认显示所有的证书</span><br><span class="line"></span><br><span class="line">-p: 指定策略</span><br></pre></td></tr></table></figure>

<p>具体的命令行的文档查看一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ /usr/bin/security find-identity --<span class="built_in">help</span></span><br><span class="line">find-identity: illegal option -- -</span><br><span class="line">Usage: find-identity [-p policy] [-s string] [-v] [keychain...]</span><br><span class="line">    -p  Specify policy to evaluate (multiple -p options are allowed)</span><br><span class="line">        Supported policies: basic, ssl-client, ssl-server, smime, eap,</span><br><span class="line">        ipsec, ichat, codesigning, sys-default, sys-kerberos-kdc, macappstore, appleID</span><br><span class="line">    -s  Specify optional policy-specific string (e.g. DNS hostname <span class="keyword">for</span> SSL,</span><br><span class="line">        or RFC822 email address <span class="keyword">for</span> S/MIME)</span><br><span class="line">    -v  Show valid identities only (default is to show all identities)</span><br><span class="line">If no keychains are specified to search, the default search list is used.</span><br><span class="line">        Find an identity (certificate + private key).</span><br></pre></td></tr></table></figure>

<h1 id="怎么解决？"><a href="#怎么解决？" class="headerlink" title="怎么解决？"></a>怎么解决？</h1><p>由于使用<code>/usr/bin/security find-identity -v -p codesigning</code>命令无法查询本地有效的重签名证书，我首先想到的就是更换查询策略，根据命令行文档可以看出，策略有很多种，包括<code>basic, ssl-client ssl-server, smime, eap,ipsec, ichat, codesigning, sys-default, sys-kerberos-kdc, macappstore, appleID</code>。经过尝试，发现策略改成<code>appleID</code>的时候是可以查询到有效证书的。但是这两个命令是有区别的。具体的区别如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">poet@poetdeMacBook-Pro ~ % /usr/bin/security find-identity -v -p codesigning</span><br><span class="line">  1) C766972EC48052D14E3A2D715F03960E10B4XXXX <span class="string">&quot;Apple Development: Zhang San (MGRQJNV411)&quot;</span></span><br><span class="line">  2) 8EA5E415105CEE96F75EAFA443B6AC992FC9CCCC <span class="string">&quot;Apple Development: Li Si (SB6BFS5U22)&quot;</span></span><br><span class="line">  3) AEF5450BA48F61EE1B5A718B7563D855E306DDDD <span class="string">&quot;iPhone Developer: Zhang San (MGRQJNV433)&quot;</span></span><br><span class="line">     3 valid identities found</span><br><span class="line">poet@poetdeMacBook-Pro ~ % /usr/bin/security find-identity -v -p appleID    </span><br><span class="line">1.2.840.113635.78.1.30</span><br><span class="line">  1) F87912EA9F939D6F044F1B86A165C5D8AC8CAAAA <span class="string">&quot;com.apple.idms.appleid.prd.5675685073322f516b6a565a55775471374c72424b671234&quot;</span> (CSSMERR_TP_CERT_EXPIRED)</span><br><span class="line">  2) 8751799A43C85FEF3914DE664E2A05251F40BBBB <span class="string">&quot;Mac Developer: Lao Wang (H2C8DTYK00)&quot;</span> (CSSMERR_TP_CERT_EXPIRED)</span><br><span class="line">  3) C766972EC48052D14E3A2D715F03960E10B4CCCC <span class="string">&quot;Apple Development: Zhang San (MGRQJNV411)&quot;</span> (Missing required extension)</span><br><span class="line">  4) 8EA5E415105CEE96F75EAFA443B6AC992FC9DDDD <span class="string">&quot;Apple Development: Li Si (SB6BFS5U22)&quot;</span> (Missing required extension)</span><br><span class="line">  5) AEF5450BA48F61EE1B5A718B7563D855E306EEEE <span class="string">&quot;iPhone Developer: Zhang San (MGRQJNV433)&quot;</span> (Missing required extension)</span><br><span class="line">     5 valid identities found</span><br></pre></td></tr></table></figure>
<p>经过上面的对比，发现策略是<code>codesigning</code>的时候查询出来的是所有有效的重签名的证书，不包含其他的证书（比如：苹果的idms官方证书、MAC电脑的证书等），但是策略是<code>appleID</code>的时候查询出来的证书一定包含策略<code>codesigning</code>查询出来的证书。所以，当使用策略<code>codesigning</code>无法查询出证书情况的时候，可以考虑把策略换成<code>appleID</code>来查询。所以解决办法就是将<code>codesigning</code>策略换成<code>appleID</code>的策略。</p>
<h1 id="提交Pull-Request"><a href="#提交Pull-Request" class="headerlink" title="提交Pull Request"></a>提交Pull Request</h1><p>解决这个问题之后，我去github仓库的issue里面看，发现很多人也有类似的问题，我就自己尝试提交了一个<code>Pull Request</code>到作者的仓库，虽然作者很久没有更新了，但是如果后续还有人碰到此问题可以通过类似的办法解决。如何提交<code>Pull Request</code>，我是参考github上的一个帖子，具体步骤如下：</p>
<h2 id="如何在别人的开源项目中提交自己的Pull-Request"><a href="#如何在别人的开源项目中提交自己的Pull-Request" class="headerlink" title="如何在别人的开源项目中提交自己的Pull Request ?"></a>如何在别人的开源项目中提交自己的Pull Request ?</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.先在本地创建一个空文件夹,里面准备放克隆过来的代码. --&gt; 我在本地Downloads文件夹下创建了一个名为 gitMessagekit 的文件夹.</span><br><span class="line">2.在<span class="string">&quot;终端&quot;</span>中通过<span class="built_in">cd</span>命令进入到gitMessagekit文件夹下(将<span class="string">&quot;自己电脑的用户名&quot;</span>换成你自己的电脑的用户名). --&gt; <span class="built_in">cd</span> /Users/自己电脑的用户名/3.Downloads/gitMessagekit</span><br><span class="line">3.在<span class="string">&quot;终端&quot;</span>输入克隆命令 git <span class="built_in">clone</span> 开源项目源代码的url. --&gt; git <span class="built_in">clone</span> https://github.com/MessageKit/MessageKit.git</span><br><span class="line">4.进入到克隆所在的文件夹. --&gt; <span class="built_in">cd</span> /Users/自己电脑的用户名/Downloads/gitMessagekit/MessageKit</span><br><span class="line">5.用查看命令查看一下开源项目都有多少个分支. --&gt; git branch -a</span><br><span class="line">6.找到自己要切换的分支,准备切换分支,在这里我要切换到3.0.0-beta分支. --&gt; git checkout remotes/origin/3.0.0-beta</span><br><span class="line">7.基于远程分支新建本地分支(3.0.0-beta),2条命令. --&gt; git branch 3.0.0-beta git checkout 3.0.0-beta</span><br><span class="line">8.打开/Users/自己电脑的用户名/Downloads/gitMessagekit/MessageKit该路径下的代码,对代码进行修改.</span><br><span class="line">9.添加修改. --&gt; git add 你修改的文件</span><br><span class="line">10.提交修改. --&gt; git commit -m <span class="string">&quot;fix 某某问题&quot;</span></span><br><span class="line">11.去自己的git仓库,准备fork一下开源项目MessageKit到自己的仓库(repository)中.</span><br><span class="line">12.即将关联自己fork过的项目. --&gt; git remote add upstream git@github.com:xxjldh/MessageKit.git</span><br><span class="line">13.推送本地的分支(3.0.0-beta)到自己fork过的仓库中,2条命令. --&gt; git fetch origin git merge origin/3.0.0-beta</span><br><span class="line">14.在即将提交时出现这样一个错误,git@github.com: Permission denied (publickey).解决办法(https://www.jianshu.com/p/f22d02c7d943)</span><br><span class="line">15.最后push自己的分支到自己fork过的仓库中. --&gt; git push upstream 3.0.0-beta</span><br><span class="line">16.在开源项目https://github.com/MessageKit/MessageKit.git的pull request中添加自己刚修改过的文件, 点<span class="string">&quot;comment pull request&quot;</span>即可.</span><br></pre></td></tr></table></figure>

<h2 id="下载链接"><a href="#下载链接" class="headerlink" title="下载链接"></a>下载链接</h2><p><a href="https://github.com/DavidWanderer/Blog/releases/tag/1.0.0">下载App重签名工具</a></p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/pixy/p/4817579.html">Mac Security工具使用总结</a><br><a target="_blank" rel="noopener" href="http://blog.fpliu.com/it/os/macOS/software/security">security命令</a><br><a target="_blank" rel="noopener" href="https://gist.github.com/zxhfighter/62847a087a2a8031fbdf">如何给开源项目贡献代码</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/Blog/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/Blog/page/7/">7</a><a class="extend next" rel="next" href="/Blog/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">David的博客</p>
  <div class="site-description" itemprop="description">Your dreams don't work unless you do.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/Blog/archives/">
        
          <span class="site-state-item-count">64</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/Blog/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/Blog/tags/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">David的博客</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">257k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">3:53</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/Blog/lib/anime.min.js"></script>
  <script src="/Blog/lib/velocity/velocity.min.js"></script>
  <script src="/Blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/Blog/js/utils.js"></script>

<script src="/Blog/js/motion.js"></script>


<script src="/Blog/js/schemes/pisces.js"></script>


<script src="/Blog/js/next-boot.js"></script>




  




  
<script src="/Blog/js/local-search.js"></script>













  

  



  

  <script async src="/Blog/js/cursor/love.min.js"></script>

</body>
</html>
